@model BoilerWeb.BoilerHistoryModel;

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>History</title>
    <link rel="stylesheet" href="~/css/history.css" />
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="~/js/history.js"></script>
    <script>
        boilerinfo.chart.data.values = @(Html.Raw(Json.Serialize(
            Model.Sensors
            .Select(item => new { Values = item.Select(x => x.Last).ToList() })
            .ToArray())));
        boilerinfo.chart.data.time = @(Html.Raw(Json.Serialize(
            Model.Sensors.Select(x => x.First().Time)
            .ToArray())));
        boilerinfo.chart.data.description = @Html.Raw(Json.Serialize(Model.Description));
    </script>
</head>
<body>
    <div id="linechart_material" style="width: 900px; height: 500px"></div>
</body>
</html>
